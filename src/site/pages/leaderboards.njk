---
title: Arch-Tempered Leaderboards
---
{% import "components/macros.njk" as macros %}

{% set archTemperedQuests = [
        '9★-a-whisper-of-white-mane',
        '9★-the-deathly-quiet-curtain',
        '9★-like-a-moth-to-the-flame',
        '9★-the-eye-of-the-storm',
        '9★-the-heralds-of-destruction-cry',
        '9★-the-scorn-of-the-sun',
        '9★-when-blue-dust-surpasses-red-lust'
    ] %}

<h1>Arch-Tempered Leaderboards</h1>
<p>Only tracks the following 7 quests:</p>
<ul>
    {# --- see .eleventy for `archTemperedLeague` --- #}
    {% for questSlug in archTemperedQuests %}
    {% set quest = collections.lookup.quest[ questSlug ] %}
        <li><a href="{{ quest.url | url }}">{{ quest.data.title }}</a></li>
    {% endfor %}
</ul>
<p>
    For every quest, there are three trophies per weapon for a total of <strong>{{ 7*14*3 }}</strong> trophies!<br>
    A runner can only have one trophy per weapon per quest combination.<br>
    In case of multiple runs, only the fastest run is count.<br>
    <br>
    Note: Click on a row to expand the collected trophies!
</p>

{% set crown_a_1 = "/assets/img/achievement-small/giant-crown-master.jpg" %}
{% set crown_a_2 = "/assets/img/achievement-small/giant-crown-collector.jpg" %}
{% set crown_a_3 = "/assets/img/achievement-small/giant-crown.jpg" %}

{% set crown_b_1 = "/assets/img/achievement-small/miniature-crown-master.jpg" %}
{% set crown_b_2 = "/assets/img/achievement-small/miniature-crown-collector.jpg" %}
{% set crown_b_3 = "/assets/img/achievement-small/miniature-crown.jpg" %}
<table border="1">
    <tr>
        <th scope="col">Rank</th>
        <th scope="col">Runner</th>
        <th scope="col"><img src="{{ crown_a_1 }}" alt="Gold Trophy" /></th>
        <th scope="col"><img src="{{ crown_a_2 }}" alt="Silver Trophy" /></th>
        <th scope="col"><img src="{{ crown_a_3 }}" alt="Bronze Trophy" /></th>
        <th scope="col">Total Trophies</th>
    </tr>
    {% set previousTrophyHash   = false %}
    {% set previousRank         = 1 %}
    {% set totalTrophiesClaimed = 0 %}
    {% for trophyCollection in collections.xxx %}
        {% set runner = trophyCollection.runner %}
        {% set totalTrophies = trophyCollection.gold + trophyCollection.silver + trophyCollection.bronze %}
        {% set totalTrophiesClaimed = totalTrophiesClaimed + totalTrophies %}
        {# -- Simple extra check for same amount of trophy holders to keep the same rank -- #}
        {% set trophyHash = trophyCollection.gold + "--" + trophyCollection.silver + "--" + trophyCollection.bronze %}
        {% if previousTrophyHash === trophyHash %}
            {% set leaderboardRank = previousRank %}
        {% else %}
            {% set leaderboardRank    = loop.index %}
            {% set previousTrophyHash = trophyHash %}
            {% set previousRank       = loop.index %}
        {% endif %}
        {% if totalTrophies > 0 %}
        <tr class="toggle-runs">
            <td>
                {% if leaderboardRank == 1 %}
                    <img  src="{{ crown_a_1 }}" alt="" />
                {% elseif leaderboardRank == 2 %}
                    <img src="{{ crown_a_2 }}" alt="" />
                {% elseif leaderboardRank == 3 %}
                    <img src="{{ crown_a_3 }}" alt="" />
                {% else %}
                    {{ leaderboardRank }}
                {% endif %}
            </td>
            <td scope="row">
                <a href="{{ runner.url | url }}">{{- runner.data.title -}}</a>
                {% if runner.data.country %}
                    <span class="flag-icon flag-icon-{{ runner.data.country }}"></span>
                {% endif %}
            </td>
            <td>{{ trophyCollection.gold }}</td>
            <td>{{ trophyCollection.silver }}</td>
            <td>{{ trophyCollection.bronze }}</td>
            <td>{{ totalTrophies }}</td>
        </tr>
        <tr hidden>
            <td colspan=6 style="text-align: left;">
                <p>
                    {% for trophy in trophyCollection.trophies %}
                        {% if trophy.rank == 1 or trophy.rank == 2 or trophy.rank == 3 %}
                            {% set weaponSlug = trophy.run.data.weapons | first %}
                            {% set weapon = collections.lookup.weapon[ weaponSlug ] %}
                                {% if trophy.rank == 1 %}
                                    <img src="{{ crown_b_1 }}" alt="" />
                                {% elseif trophy.rank == 2 %}
                                    <img src="{{ crown_b_2 }}" alt="" />
                                {% elseif trophy.rank == 3 %}
                                    <img src="{{ crown_b_3 }}" alt="" />
                                {% else %}
                                    [{{ trophy.rank }}]
                                {% endif %}
                                <a href="{{ trophy.run.url }}">
                                    <strong>{{ trophy.quest.data.title }}</strong> with <strong>{{ weapon.data.title }}</strong>.
                                </a>
                            {% if not loop.last %}
                                <br>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </p>
            </td>
        </tr>
        {% endif %}
    {% endfor %}
    <tr>
        <td colspan=5 style="text-align: left;">
            Total trophies claimed so far:
        </td>
        <td>
            {{ totalTrophiesClaimed }} / {{ 7*14*3 }}
        </td>
    </tr>
</table>
